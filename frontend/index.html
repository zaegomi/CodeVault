<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeVault - Text Steganography Platform</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>CodeVault</h1>
            <p>Universal Text-Based Steganography Platform</p>
        </div>

        <div class="main-content">
            <div class="panel">
                <h2>Secret Message</h2>
                <div class="form-group">
                    <label for="secretMessage">Enter your secret message:</label>
                    <input type="text" id="secretMessage" placeholder="Type your hidden message here..." maxlength="500">
                </div>
                
                <div class="form-group">
                    <label for="encryptionMethod">Select Encoding Method:</label>
                    <select id="encryptionMethod">
                        <option value="els">Equidistant Letter Sequence (ELS)</option>
                        <option value="acrostic">Acrostic Method</option>
                        <option value="punctuation">Punctuation Pattern</option>
                        <option value="null">Null Cipher</option>
                    </select>
                </div>

                <!-- NEW: AI Text Generation Controls -->
                <div class="ai-generation-panel">
                    <h3>ü§ñ AI Carrier Text Generation</h3>
                    <div class="form-group">
                        <label for="aiTopic">Topic for carrier text:</label>
                        <input type="text" id="aiTopic" placeholder="e.g., technology, nature, business..." value="technology">
                    </div>
                    
                    <div class="form-group">
                        <label for="aiStyle">Writing style:</label>
                        <select id="aiStyle">
                            <option value="casual">Casual</option>
                            <option value="academic">Academic</option>
                            <option value="business">Business</option>
                            <option value="creative">Creative</option>
                            <option value="news">News</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="aiLength">Text length (words):</label>
                        <input type="number" id="aiLength" min="50" max="1000" value="200">
                    </div>
                    
                    <button class="ai-generate-btn" id="generateAIText">üöÄ Generate AI Carrier Text</button>
                </div>
            </div>

            <div class="panel">
                <h2>Carrier Text</h2>
                <div class="form-group">
                    <label for="carrierText">Enter or paste your carrier text:</label>
                    <textarea id="carrierText" placeholder="Enter the text that will hide your message..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>Or upload a text file:</label>
                    <div class="file-upload">
                        <input type="file" id="fileUpload" accept=".txt">
                        <div class="file-upload-btn">üìÅ Upload Text File</div>
                    </div>
                </div>

                <!-- NEW: Text Analysis Display -->
                <div id="textAnalysis" class="text-analysis hidden">
                    <h4>üìä Text Analysis</h4>
                    <div class="analysis-stats">
                        <div class="analysis-item">
                            <span class="analysis-label">Word Count:</span>
                            <span class="analysis-value" id="wordCount">0</span>
                        </div>
                        <div class="analysis-item">
                            <span class="analysis-label">Character Count:</span>
                            <span class="analysis-value" id="charCount">0</span>
                        </div>
                        <div class="analysis-item">
                            <span class="analysis-label">Suitability:</span>
                            <span class="analysis-value" id="suitability">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="control-panel">
            <button class="start-btn" id="startBtn">START ENCODING</button>
        </div>

        <!-- NEW: AI Generation Loading -->
        <div id="aiLoadingDiv" class="loading hidden">
            <div class="spinner"></div>
            <p>AI is generating your carrier text...</p>
            <small>This may take 10-30 seconds</small>
        </div>

        <div id="loadingDiv" class="loading hidden">
            <div class="spinner"></div>
            <p>Processing your message...</p>
        </div>

        <div id="resultsDiv" class="results hidden">
            <h2>Encoded Result</h2>
            <div id="resultText" class="result-text"></div>
            
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-value" id="methodUsed">-</div>
                    <div class="stat-label">Method Used</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="textLength">-</div>
                    <div class="stat-label">Text Length</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="hiddenChars">-</div>
                    <div class="stat-label">Hidden Characters</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="securityScore">-</div>
                    <div class="stat-label">Security Score</div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="action-btn" id="copyBtn">üìã Copy Result</button>
                <button class="action-btn" id="downloadBtn">üíæ Download</button>
                <button class="action-btn" id="decodeBtn">üîì Test Decode</button>
                <button class="action-btn reset-btn" id="resetBtn">üîÑ Reset</button>
            </div>
        </div>

        <div id="errorDiv" class="error hidden">
            <strong>Error:</strong> <span id="errorMessage"></span>
        </div>

        <div id="successDiv" class="success hidden">
            <strong>Success:</strong> <span id="successMessage"></span>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>